{"version":3,"file":"index.min.js","sources":["../../app/map/restyling-circle-marker.js","../../app/map/site-map.js","../../app/site-data.js","../../app/details/site-bed-materials.js","../../app/details/site-water-quality.js","../../app/details/download-section.js","../../app/details/site-sketch.js","../../node_modules/macro-carousel/dist/macro-carousel.min.js","../../app/details/modal-dialog.js","../../app/details/site-photos.js","../../app/details/site-details.js","../../app/map/map-controls.js","../../app/index.js"],"sourcesContent":["\nconst colorRange = {\n\n'Conductivity_uS': [\n     'var(--map-bin-blue-0)',\n     'var(--map-bin-blue-1)',\n     'var(--map-bin-blue-2)',\n     'var(--map-bin-blue-3)',\n     'var(--map-bin-blue-4)',\n     'var(--map-bin-blue-5)',\n     'var(--map-bin-blue-6)'\n   ], \n'Discharge_cfs': [\n     'var(--map-bin-purple-0)',\n     'var(--map-bin-purple-1)',\n     'var(--map-bin-purple-2)',\n     'var(--map-bin-purple-3)',\n     'var(--map-bin-purple-4)',\n     'var(--map-bin-purple-5)',\n     'var(--map-bin-purple-6)'\n   ], \n'Water_Temp_C':[\n     'var(--map-bin-green-0)',\n     'var(--map-bin-green-1)',\n     'var(--map-bin-green-2)',\n     'var(--map-bin-green-3)',\n     'var(--map-bin-green-4)',\n     'var(--map-bin-green-5)',\n     'var(--map-bin-green-6)'\n   ], \n   'pH':  [\n     'var(--map-bin-brown-0)',\n     'var(--map-bin-brown-1)',\n     'var(--map-bin-brown-2)',\n     'var(--map-bin-brown-3)',\n     'var(--map-bin-brown-4)',\n     'var(--map-bin-brown-5)',\n     'var(--map-bin-brown-6)'\n   ]\n\n};\n\nconst binRanges = {\n  'Conductivity_uS': [\n    [],\n    [],\n    [0, 300],\n    [300, 502],\n    [502, 676],\n    [676, 926],\n    [926, 2000]\n  ],\n  'Discharge_cfs': [\n    [0.1, 0.2],\n    [0.2, 0.5],\n    [0.5, 1.0],\n    [1, 2],\n    [2, ],\n    [2, 5],\n    [5, 20]\n  ], \n   'Water_Temp_C': [\n    [5,6],\n    [6,7],\n    [7,8],\n    [8, 9],\n    [9, 10],\n    [10, 13],\n    [13, 17]\n   ], \n   'pH':[\n    [],\n    [5.5, 6.5],\n    [6.5, 7],\n    [7, 7.5],\n    [7.5, 8],\n    [8, 9],\n    [9, 10]\n   ]\n}\nexport const RestylingCircleMarker = L.CircleMarker.extend({\n  getEvents: function() {\n    return {\n      zoomend: this._restyle,\n      normalpoints: this._normal,\n      typepoints: this._orifice,\n      condpoints: this._conductivity,\n      qpoints: this._discharge\n    }\n  },\n  _restyle: function(e) {\n    this.setRadius(RestylingCircleMarker.calcRadius(e.target.getZoom()))\n  },\n  _normal: function() {\n    let color = 'var(--map-symbol)';\n    if (!this._activeBackup) {\n      this.setStyle({'color': color});\n    } else {\n      this._activeBackup = color;\n    }\n  },\n  _orifice: function() {\n    var color = 'var(--map-symbol)';\n    var prop = 'Orifice_Geom';\n    if (this.feature.properties[prop] === 'seepage/filtration') {\n      color = 'var(--map-symbol-alt)';\n    }\n    if (!this._activeBackup) {\n      this.setStyle({'color': color});\n    } else {\n      this._activeBackup = color;\n    }\n  },\n  _conductivity: function() {\n    var prop = 'Conductivity_uS';\n    this._binPoint(prop);\n  },\n  _discharge: function() {\n    var prop = 'Discharge_cfs';\n    this._binPoint(prop);\n  },\n  _binPoint: function(prop) {\n    let result = RestylingCircleMarker.binPoint(prop, this.feature.properties);\n    if (!this._activeBackup) {\n      this.setStyle({'color': result});\n    } else {\n      this._activeBackup = result;\n    }\n  },\n  highlight: function() {\n    this._activeBackup = this.options.color;\n    this.setStyle({'color': 'var(--map-symbol-active'})\n  },\n  removeHighlight: function() {\n    if (this._activeBackup) {\n      this.setStyle({'color': this._activeBackup})\n      this._activeBackup = null;\n    }\n  }\n});\n\nRestylingCircleMarker.calcRadius = (a) => Math.max(Math.floor(a/1.5),3);\nRestylingCircleMarker.binPoint = (prop, data) => {\n  let result = \"#406058\";\n  const ranges = binRanges[prop];\n  if (ranges) {\n    const val = data[prop];\n    for (let i = 0; i < ranges.length; i++) {\n      if (ranges[i] && val > ranges[i][0] && val <= ranges[i][1]) {\n        result = colorRange[prop][i];\n      }\n    }\n  }\n  return result;\n}","import { RestylingCircleMarker } from './restyling-circle-marker.js';\n\nconst api_key = \"AAPK2e0a5cf929c34c46a7e4272f2ead6aa4ilvTW75nWcHxARC1ZF--cRIhmfhAJcsRkjdmZQr6C2CDqUxeqMF1yu6E7qzaEq_q\"; \n\nexport class SiteMap extends window.L.Evented {\n  constructor() {\n    super();\n    this.selected = false;\n    this._highlight = null;\n\n    /* ~~~~~~~~ Map ~~~~~~~~ */\n    //create a map, center it, and set the zoom level. \n    //set zoomcontrol to false because we will add it in a different corner. \n    const map = this.map = L.map('map', {zoomControl:false}).setView([45, -89.623861], 7);\n    this.el = document.querySelector('#map');\n     \n     /* ~~~~~~~~ Zoom Control ~~~~~~~~ */\n    //place a zoom control in the top right: \n    new L.Control.Zoom({position: 'topright'}).addTo(map);\n\n     \n    /* ~~~~~~~~ Basemap Layers ~~~~~~~~ */\n     \n\n    \n    // Esri basemaps     \n    // other basemap options can be found here: https://developers.arcgis.com/esri-leaflet/maps/change-the-basemap-style-v2/ \n\n    //stage any basemap from Esri: \n    function esriBasemap(style){\n        return L.esri.Vector.vectorBasemapLayer(style, {\n        apiKey: api_key,  \n        version:2\n      })\n        \n    }\n        \n    \n    const basemapLayers = {\n        \n        \"Streets Basemap\": esriBasemap(\"arcgis/streets\").addTo(map), \n        \"Topographic Basemap\": esriBasemap(\"arcgis/topographic\"),\n        \"Imagery Basemap\": esriBasemap(\"arcgis/imagery\") \n        \n    }\n    \n    //add a basemap controller to the map. \n    L.control.layers(basemapLayers, null, {collapsed:true}).addTo(map); \n    \n    \n    //Stamen basemap \n      //no longer works. \n//    const stamenterrain = new L.StamenTileLayer(\"terrain\", {\n//      label: \"Stamen Terrain\", \n//      attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>,under <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0.</a> Data by <a href=\"http://openstreetmap.org\">OpenStreetMap</a>, under <a href=\"http://www.openstreetmap.org/copyright\">ODbL</a>.'\n//    });\n\n\n\n    /* +++++++++++ Springs layer +++++++++++ */ \n    this.springs = L.esri.featureLayer({\n      url: \"https://data.wgnhs.wisc.edu/arcgis/rest/services/springs/springs_inventory/MapServer/1\",\n      pointToLayer: function(geoJsonPoint, latlon) {\n        return new RestylingCircleMarker(latlon, {\n          weight: 2,\n          color: 'var(--map-symbol)',\n          radius: RestylingCircleMarker.calcRadius(map.getZoom())\n        });\n      }\n    }).on('click', (function(e) {\n      if (this._highlight !== e.propagatedFrom) {\n        this.fire('interaction', e.propagatedFrom.feature.properties);\n      } else {\n        this.fire('interaction');\n      }\n    }).bind(this));\n\n    /**\n     * Set up data layers for querying\n     */\n    this.springPhotos = L.esri.featureLayer({\n      url: \"https://data.wgnhs.wisc.edu/arcgis/rest/services/springs/springs_inventory/MapServer/6\"\n    });\n    this.springSketches = L.esri.featureLayer({\n      url: \"https://data.wgnhs.wisc.edu/arcgis/rest/services/springs/springs_inventory/MapServer/4\"\n    });\n\n    this.springs.once('load', () => {\n      this.fire('init');\n    });\n\n    this.springs.addTo(map);\n  }\n\n  getPoint(params) {\n    let result;\n    this.springs.eachFeature(function(obj) {\n      if (obj.feature.properties['Site_Code'] === params['Site_Code']) {\n        result = obj;\n      }\n    });\n    return result;\n  }\n\n  zoomToPoint(params) {\n    let point = this.getPoint(params);\n    if (point) {\n      this.map.setZoomAround(point.getLatLng(), 15);\n    }\n  }\n\n  getHighlightPoint() {\n    // console.log('retrieve highlight point');\n    let result = this._highlight;\n    return result;\n  }\n\n  setHighlightPoint(point) {\n    if (point) {\n      // console.log('set highlight point');\n      this._highlight = point;\n      this._highlight.bringToFront()\n      this._highlight.highlight();\n    } else {\n      this.clearSelection();\n    }\n  }\n\n  selectPoint(site) {\n    let result = null;\n    // console.log('select point on map:', site);\n    let point = this.getPoint(site);\n    if (point) {\n      result = point.feature.properties;\n      let highlightPoint = this.getHighlightPoint();\n      if (point !== highlightPoint) {\n        this.clearSelection();\n        this.setHighlightPoint(point);\n      }\n    }\n    return result;\n  }\n\n  clearSelection() {\n    // console.log('clear highlight group');\n    if (this._highlight) {\n      this._highlight.bringToBack();\n      this._highlight.removeHighlight();\n    }\n    this._highlight = null;\n  }\n\n  updatePoints(name) {\n    this.map.fire(name);\n  }\n\n  setVisibility(isVisible) {\n    if (isVisible) {\n      this.el.removeAttribute('data-closed');\n      this.map.invalidateSize();\n    } else {\n      this.el.setAttribute('data-closed', true);\n    }\n  }\n\n\n}\n","\nexport class SiteData {\n  constructor(springs, springPhotos, springSketches) {\n    this._springPhotos = springPhotos;\n    this._springSketches = springSketches;\n\n    // Define aggregated data for visualization\n    this._aggrKeys = ['Site_Code', 'Conductivity_uS', 'Discharge_cfs', 'pH', 'Water_Temp_C'];\n\n    this.aggrData = SiteData._gatherAggrData(springs, this._aggrKeys);\n  }\n\n  async lookupPhotos(site) {\n    const springPhotos = this._springPhotos;\n    return new Promise(function(resolve, reject) {\n      springPhotos.query().where(\"Site_Code = '\" + site + \"'\").run(function(err, col) {\n        if (!err) {\n          var photos = col.features.map( function(value) { return value.properties; } );\n          photos.sort(function(a, b) {\n            return a.Image_Number - b.Image_Number;\n          });\n\n          resolve(photos);\n        } else {\n          // console.log('Could not get Spring Photos', err);\n          reject(err);\n        }\n      });\n    });\n  }\n\n  async lookupSketches(site) {\n    const springSketches = this._springSketches;\n    return new Promise(function(resolve, reject) {\n      springSketches.query().where(\"File_Prefix = '\" + site + \"'\").run(function(err, col) {\n        if (!err) {\n          var sketches = col.features.map( function(value, index) { return value.properties['FileURL']});\n          resolve(sketches);\n        } else {\n          // console.log('Could not get Spring Sketches', err);\n          reject(err);\n        }\n      });\n    });\n  }\n\n  static _gatherAggrData(layer, aggrKeys) {\n    const aggrData = {\n      aggr: {},\n      data: []\n    };\n\n    // Collect datasets and aggregates\n    layer.eachFeature(function(obj, l) {\n      let result = {};\n      aggrKeys.forEach(function(key) {\n        result[key] = obj.feature.properties[key]\n        if (!aggrData.aggr[key]) {\n          aggrData.aggr[key] = {};\n        }\n        if (result[key] && 'number' === typeof result[key]) {\n          if (!aggrData.aggr[key].max || aggrData.aggr[key].max < result[key]) {\n            aggrData.aggr[key].max = result[key];\n          }\n          if (!aggrData.aggr[key].min || aggrData.aggr[key].min > result[key]) {\n            aggrData.aggr[key].min = result[key];\n          }\n        }\n      });\n      aggrData.data.push(result);\n    });\n\n    return aggrData;\n  }\n}\n\nconst formatDate = function formatDate(item) {\n  return (!item) ?\n    null :\n    new Date(item).toISOString().substring(0,10);\n};\n\nconst roundToTwoDecimals = function roundToTwoDecimals(item) {\n  return (!item) ?\n    null :\n    item.toFixed(2);\n}\n\nexport const ignoredKeys = [\n  'OBJECTID',\n  'GlobalID',\n  'File_Prefix',\n  'Site_Code',\n  'SpringID',\n  'Surveyor',\n  'Time',\n  'County',\n  'Horz_Precision_m',\n  'Max_PDOP',\n  'Access',\n  'Ease_Access',\n  'Notes',\n  'gps_time_date',\n  'sat_signals'\n];\nexport const keyLookup = {\n  'pH': { 'title': 'pH', 'desc': 'Measured as close to spring source as possible.' },\n  'Conductivity_uS': { 'title': 'Specific conductance (µS/cm, 25°C)', 'desc': 'Specific Conductance: Measured as close to spring source as possible (µmho/cm).' },\n  'Water_Temp_C': { 'title': 'Temperature (°C)', 'desc': 'Measured as close to spring source as possible (°C).' },\n  'SpringID': { 'title': 'Spring ID', 'desc': 'Unique identifier within county.' },\n  'County': { 'title': 'County', 'desc': 'County where spring is located.' },\n  'Surveyor': { 'title': 'Surveyor(s)', 'desc': 'Who conducted the survey (initials).' },\n  'Date': { 'title': 'Date', 'desc': 'Date of field survey.', 'transform': formatDate },\n  'Time': { 'title': 'Time', 'desc': 'Start time.' },\n  'Easting_WTM': { 'title': 'Easting (WTM)', 'desc': 'Easting (WTM). As close to the spring source as possible.', 'transform': roundToTwoDecimals },\n  'Northing_WTM': { 'title': 'Northing (WTM)', 'desc': 'Northing (WTM). As close to the spring source as possible.', 'transform': roundToTwoDecimals },\n  'Horz_Precision_m': { 'title': 'Horizontal Precision (meters)', 'desc': 'Horizontal accuracy of GPS position (meters).' },\n  'Max_PDOP': { 'title': 'Maximum PDOP', 'desc': 'Maximum positional dilution of precision (PDOP) during measurement.' },\n  'Elevation_m': { 'title': 'Elevation (meters)', 'desc': 'From digital elevation model (DEM) (meters).', 'transform': roundToTwoDecimals },\n  'elevation_source': { 'title': 'Elevation Source', 'desc': 'DEM source and horizontal resolution of DEM used to extract elevation.' },\n  'Land_Owner': { 'title': 'Land Ownership', 'desc': 'List: state, county, city, NPS, USFS, tribal, military, private, other.' },\n  'Access': { 'title': 'Access', 'desc': 'Directions to springs.' },\n  'Ease_Access': { 'title': 'Ease of Access', 'desc': 'List: Easy access, Difficult access, Terrain prohibits access to other potential spring areas.' },\n  'Land_Cover': { 'title': 'Land Cover', 'desc': 'List: urban, residential, agriculture, grassland, forest, open water, wetland, barren, shrubland, other.' },\n  'Air_Temp_F': { 'title': 'Air Temperature (°F)', 'desc': 'Air temperature on date surveyed (°F).' },\n  'Cloud_Cover_percent': { 'title': 'Cloud Cover (%)', 'desc': 'Cloud cover at time of survey (%).' },\n  'Wind_Speed_mph': { 'title': 'Wind Speed (mph)', 'desc': 'Velocity measurement on date surveyed (mph).' },\n  'Aspect_degrees': { 'title': 'Aspect', 'desc': 'Direction that the spring orifice faces.' },\n  'Slope_degrees': { 'title': 'Slope (°)', 'desc': 'Channel slope (°).' },\n  'Slope_Variability': { 'title': 'Slope Variability', 'desc': 'List: high, medium, low, none.' },\n  'Condition': { 'title': 'Condition', 'desc': 'List: undisturbed, light, moderate, high.' },\n  'Type_of_Disturbance': { 'title': 'Type of Disturbance', 'desc': 'List: wildlife, livestock, recreation, diversion, residence, impounded, dredging, flooding, trails, roadway, invasives, spring house, encased, raceways, human-made structure, trash, storm-water, drain tile, agriculture, other.' },\n  'Spring_Area_sqm': { 'title': 'Spring Area (m²)', 'desc': 'List: <2 m², 2-10 m², 10-100 m², 100-1000 m², 1000-10,000 m², 10,000-100,000 m²' },\n  'Surface_Types': { 'title': 'Surface Type(s)', 'desc': 'List: backwall, colluvial slope, sloping bedrock, pool, channel, spring mound, cave, other.' },\n  'Width_ft': { 'title': 'Channel or Pool Width (feet)', 'desc': 'If a channel or pool exists, the mean width (feet).' },\n  'Width_Location': { 'title': 'Width Location', 'desc': 'List: pool, channel, pond, spring house, other.' },\n  'Depth_cm': { 'title': 'Channel or Pool Depth (cm)', 'desc': 'If a channel or pool exists, the mean depth (cm).' },\n  'Depth_Location': { 'title': 'Depth Location', 'desc': 'List: pool, channel, pond, spring house, other.' },\n  'Percent_organic': { 'title': 'Percent Organic', 'desc': 'Qualitative estimate of the % organics. Described as close to spring source as possible.' },\n  'Percent_fines': { 'title': 'Percent Fines', 'desc': 'Qualitative estimate of the % fines. Described as close to spring source as possible.' },\n  'Percent_sand': { 'title': 'Percent Sand', 'desc': 'Qualitative estimate of the % sand. Described as close to spring source as possible.' },\n  'Percent_gravel': { 'title': 'Percent Gravel', 'desc': 'Qualitative estimate of the % gravel. Described as close to spring source as possible.' },\n  'Percent_cobble': { 'title': 'Percent Cobble', 'desc': 'Qualitative estimate of the % cobble. Described as close to spring source as possible.' },\n  'Percent_boulder': { 'title': 'Percent Boulder', 'desc': 'Qualitative estimate of the % boulder. Described as close to spring source as possible.' },\n  'Percent_bedrock': { 'title': 'Percent Bedrock', 'desc': 'Qualitative estimate of the % bedrock. Described as close to spring source as possible.' },\n  'Bedrock_Comp': { 'title': 'Bedrock Composition', 'desc': 'List: shale, siltstone, sandstone, conglomerate, limestone, dolomite, igneous or metamorphic, NA, other.' },\n  'Spring_Type': { 'title': 'Spring Type', 'desc': 'List: helocrene, rheocrene, limnocrene, hillslope spring, cased, flowing well, other.' },\n  'Spring_Source': { 'title': 'Spring Source', 'desc': 'List: single orifice, multiple orifices, diffuse flow, other.' },\n  'Orifice_Geom': { 'title': 'Orifice Geomorphic Type', 'desc': 'List: seepage/filtration, fracture, tubular, contact.' },\n  'Discharge_cfs': { 'title': 'Discharge (ft³/s)', 'desc': 'Spring flow (ft³/s).' },\n  'Flow_Accuracy': { 'title': 'Flow Accuracy', 'desc': 'Level of accuracy of flow measurement, List: low, high' },\n  'Discharge_Meas': { 'title': 'How Measured', 'desc': 'List: timed volume, float velocity method, flume, AA meter, AD meter (acoustic Doppler meter), EM meter (electromagnetic meter).' },\n  'Flow_Location': { 'title': 'Flow Location', 'desc': 'Where flow was measured.' },\n  'Flow_percent': { 'title': 'Flow %', 'desc': 'Percent of flow captured (%).' },\n  'Veg_Bed_Cover_percent': { 'title': 'Vegetative Bed Cover (%)', 'desc': 'The proportion of the spring pool bed or channel bed that is covered by live vegetation (%).' },\n  'Veg_Bank_Cover_percent': { 'title': 'Vegetative Bank Cover (%)', 'desc': 'The proportion of the spring pool banks or channel banks that is covered by live vegetation (%).' },\n  'Notes': { 'title': 'Notes', 'desc': 'Other notes as necessary.' },\n  'GlobalID': { 'title': 'Global ID', 'desc': 'Automatically generated unique and global ID' },\n  'gps_time_date': { 'title': 'GPS time and date', 'desc': 'Automatically generated GPS time and date stamp' },\n  'sat_signals': { 'title': 'Number of satellites', 'desc': 'Automatically generated number of satellites visible' }\n};\n","import {LitElement, html, css} from 'lit-element';\n\nexport class SiteBedMaterials extends LitElement{\n    static get properties(){\n        return{\n            siteinfo: Object\n        };\n    }\n\n    constructor() {\n        super();\n    }\n\n    static get styles(){\n        return css`\n        :host {\n\n        }\n        text {\n            font-size: var(--font-size-small);\n            font-weight: bold;\n            fill: #414c43;\n\n        }\n        .container {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        .donutSegments {\n\n        }\n        .chartLabels {\n\n        }\n        .leaderLines {\n\n        }\n        `;\n    }\n\n\n    render() {\n\n        return html `\n        <div class=\"container\">\n        <!-- <h2>Spring-bed materials</h2> -->\n        <svg id=\"bed-materials-chart\"></svg>\n        </div>\n        `;\n\n    }\n\n    firstUpdated() {\n        this.chart = d3.select(this.renderRoot.querySelector('#bed-materials-chart'));\n    }\n\n    updated() {\n\n        var width = 500;\n        var height = 300;\n        var margin = 15; //space between the circle and the edge of the SVG\n        var radius = (Math.min(width, height) / 2) - (margin * 2); //outer radius of the circle\n\n\n        /* ~~~~~~~~~ SVG SETUP ~~~~~~~~~ */\n\n        this.chart.attr(\"width\", width).attr(\"height\", height);\n\n        // set up groups within the svg:\n        var masterGroup = this.chart.append(\"g\").attr(\"transform\", \"translate(\"+width/2+\",\"+height/2+\")\"); //append a group and move it to the center of the SVG.\n        var donutGroup = masterGroup.append(\"g\").attr(\"class\", \"donutSegments\");\n        var labelGroup = masterGroup.append(\"g\").attr(\"class\", \"chartLabels\");\n        var linesGroup = masterGroup.append(\"g\").attr(\"class\", \"leaderLines\");\n\n\n        /* ~~~~~~~~~ DATA ~~~~~~~~~ */\n\n        var values = [\n            {material: \"organic\", percent: this.siteinfo.Percent_organic, color: \"#406058\"},\n            {material: \"fines\", percent: this.siteinfo.Percent_fines, color: \"#adcaba\"},\n            {material: \"sand\", percent: this.siteinfo.Percent_sand, color: \"#b7b098\"},\n            {material: \"gravel\", percent: this.siteinfo.Percent_gravel, color: \"#cccccc\"},\n            {material: \"cobble\", percent: this.siteinfo.Percent_cobble, color: \"#7b6888\"},\n            {material: \"boulder\", percent: this.siteinfo.Percent_boulder, color: \"#514b47\"},\n            {material: \"bedrock\", percent: this.siteinfo.Percent_bedrock, color: \"#98abc5\"}\n        ];\n\n        //process the data array for use in the donut chart...\n         var pie = d3.pie()\n                    .sort(null)             // do not sort by size\n                    .value(function(d){     // set the value that is used to size each pie chart segment\n                        return d.percent    // the data attribute that gives the charted value for each segment\n                    })(values);             // call this function, giving it the values array\n\n        // the pie function returns an array of objects representing the segments, containing their the start and end angles, data value, etc.\n\n\n        // the pie function always returns 7 objects. filter it down to only the objects with a percent value greater than zero, so we are not going to draw any 0-dimension paths.\n        var filterpie = pie.filter(function(el){return el.value > 0;});\n\n        //console.log(\"filtered pie is \", filterpie);\n\n        /* ~~~~~~~~~ DONUT SEGMENTS ~~~~~~~~~ */\n        // right now, the website is set up so that it re-renders everything in the side panel when a each spring is queried.\n        // therefore, everything is cleared and re-generated with each query.\n        // this code could be designed differently if more dynamic updating were required.\n\n\n        //define the properties of a donut arc.\n        var arc = d3.arc()\n                    .outerRadius(radius)\n                    .innerRadius(radius - 45)   //lower numbers here make a thinner ring\n                    .padAngle(0.025);              //about 0.025 is a good visible gap.\n\n\n        donutGroup.selectAll(\"path\")                            // we are using all paths within the group\n            .data(filterpie)                                          // we want to use the data as processed by the pie function. this returns the update selection, which includes all data values that have corresponding DOM elements.\n            .enter()                                            // enter is a selection with placeholders for each data value (datum) that lacks a corresponding DOM element.\n            .append(\"path\")                                     // for any datum missing a DOM element, create one of these.\n            .attr(\"d\", arc)                                     //\n            .attr(\"fill\", function(d){return (d.data.color);})  // apply fill color, which is a function of the color data attribute.\n            .style(\"opacity\", 1)                                // apply any styles for the donut chart segments\n            ;\n\n\n        /* ~~~~~~~~~~ LABELS ~~~~~~~~~~~ */\n\n         // calculates the angle for the middle of a slice\n        function midAngle(d) { return d.startAngle + (d.endAngle - d.startAngle) / 2; }\n\n        // arc for positioning labels; won't be drawn.\n        var outerArc = d3.arc()\n                        .innerRadius(radius * 1.1)\n                        .outerRadius(radius * 1.1);\n\n\n\n\n        var label = this.chart.select(\".chartLabels\").selectAll(\"text\")\n            .data(filterpie)\n            .enter()\n            .append('text')\n            .html(function(d){ return d.data.percent+\"% \"+d.data.material; })   // build the content of the label\n            .attr('dy', '.35em')                                                //vertical alignment\n            .attr(\"transform\", function(d){\n\n                    var anchorpoint = outerArc.centroid(d);                             // initially, set the anchorpoint of text to be where the bisecting angle meets the outer arc\n                    anchorpoint[0] = radius * 1.15 * (midAngle(d) < Math.PI ? 1 : -1);  // then shift the anchorpoint on the x axis.\n                    // changes the point to be on left or right depending on where label is (multiply by 1 or by -1).\n\n                    return 'translate('+anchorpoint+')';\n            })\n            .style('text-anchor', function(d){\n                    // if slice centre is on the left, anchor text to start, otherwise anchor to end\n                    return (midAngle(d)) < Math.PI ? 'start' : 'end';\n            })\n            ;\n\n\n        /* ~~~~~~~~~ LEADER LINES ~~~~~~~~~ */\n        var polyline = this.chart.select(\".leaderLines\").selectAll('polyline')\n            .data(filterpie)\n            .enter()\n            .append('polyline')\n            .attr('stroke', \"#333333\")      //set appearance\n            .attr(\"stroke-width\", 1)        //set appearance\n            .style('fill', 'none')          //set appearance\n            .attr('points', function(d){\n\n                // three points on each line:\n                // A: centroid of the donut segment\n                // B: where the bisecting angle meets the outer arc (breakpoint in the line)\n                // C: outer endpoint at the same y position as B, but with x coordinate near the side of the SVG\n\n                var endpoint = outerArc.centroid(d);                            // initially, set the endpoint (C) to point B.\n                endpoint[0] = radius * 1.1 * (midAngle(d) < Math.PI ? 1 : -1);  // then shift point C on the x axis.\n\n                return [arc.centroid(d), outerArc.centroid(d), endpoint]        // return A, B, and C\n            })\n            ;\n\n    } //close updated method.\n} //close export\ncustomElements.define('site-bed-materials', SiteBedMaterials);\n","import { LitElement, html, css } from 'lit-element';\nimport { keyLookup } from '../site-data.js';\nimport { RestylingCircleMarker } from '../map/restyling-circle-marker.js';\nimport { dispatch } from 'wgnhs-common';\nimport { styles } from 'wgnhs-styles';\n\n// https://github.com/wbkd/d3-extended\nd3.selection.prototype.moveToFront = function() {  \n  return this.each(function(){\n    this.parentNode.appendChild(this);\n  });\n};\nd3.selection.prototype.moveToBack = function() {  \n    return this.each(function() { \n        var firstChild = this.parentNode.firstChild; \n        if (firstChild) { \n            this.parentNode.insertBefore(this, firstChild); \n        } \n    });\n};\n\nexport const dischargeDotPlotOptions = {\n  attributeKey: \"Discharge_cfs\",\n\n  tickValues:[0, 0.1, 0.2, 0.5, 1, 2, 5, 10, 20],\n  chartMin: 0,\n  chartMax: 20,\n\n  domain: [0, 0.1, 0.2, 0.5, 1.0, 2.0, 5.0, 10.0, 20.0],\n  labelFormat: \".1f\", //show one number past the decimal point. \n};\n\nexport const conductivityDotPlotOptions = {\n  attributeKey: \"Conductivity_uS\",\n\n  tickValues:[0, 250, 500, 750, 1000, 1250, 1500, 1750],\n  chartMin: 0,\n  chartMax: 1750,\n\n  domain: [0, 1750],\n  labelFormat: \"d\", //show as integer (decimal notation)\n};\n\nexport const tempDotPlotOptions = {\n  attributeKey: \"Water_Temp_C\",\n\n  tickValues:[5,7,9,11,13,15,17],\n  chartMin: 5,\n  chartMax: 17,\n\n  domain: [5, 17],\n  labelFormat: \"d\", //show as integer (decimal notation)\n};\n\nexport const phDotPlotOptions = {\n  attributeKey: \"pH\",\n\n  tickValues:[5.5, 6.0, 6.5, 7.0, 7.5, 8.0, 8.5, 9.0, 9.5, 10.0],\n  chartMin: 5.5,\n  chartMax: 10,\n\n  domain: [5.5, 10],\n  labelFormat: \".1f\", //show one number past the decimal point.\n};\n\n\nexport class SiteWaterQuality extends LitElement {\n  static get properties() {\n    return {\n        siteinfo: {\n          type: Object,\n          attribute: false\n        },\n        alldata: {\n          type: Object,\n          attribute: false\n        }\n    };\n  }\n\n  constructor() {\n    super();\n  }\n\n  static get styles(){\n    return css`\n      .container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n      }\n    `;\n  }\n\n  render() {\n    return html`\n      <div class=\"container\">\n        <dot-plot\n          .options=\"${dischargeDotPlotOptions}\"\n          .annotated=\"${this.annotated}\"\n          .alldata=\"${this.alldata}\"></dot-plot>\n        <dot-plot\n          .options=\"${conductivityDotPlotOptions}\"\n          .annotated=\"${this.annotated}\"\n          .alldata=\"${this.alldata}\"></dot-plot>\n        <dot-plot \n          .options=\"${tempDotPlotOptions}\"\n          .annotated=\"${this.annotated}\"\n          .alldata=\"${this.alldata}\"></dot-plot>\n        <dot-plot\n          .options=\"${phDotPlotOptions}\"\n          .annotated=\"${this.annotated}\"\n          .alldata=\"${this.alldata}\"></dot-plot>\n      </div>\n    `;\n  } //end render\n\n  get annotated() {\n    return this.siteinfo['Site_Code'];\n  }\n\n}   //end export class\n\ncustomElements.define('site-water-quality', SiteWaterQuality);\n\nexport class DotPlotElement extends LitElement {\n  static get properties() {\n    return {\n      alldata: {\n        type: Object,\n        attribute: false\n      },\n      options: {\n        type: Object,\n        attribute: false\n      },\n      annotated: {\n        type: String,\n        attribute: false\n      }\n    };\n  }\n\n  constructor() {\n    super();\n  }\n\n  static get styles(){\n    return [\n      ...styles,\n      css`\n      .label{\n          font-weight: bold;\n      }\n      .tick {\n          font-size: 13px;\n\n          color: #777;\n      }\n      .tick line {\n          stroke: #777;\n      }\n      .annotation {\n          font-size: 14px;\n      }\n      .annotated {\n          stroke-width: 2; \n          stroke: #333; \n          opacity: 1; \n          fill: #000;\n          r:5;\n      }\n      .highlighted {\n          stroke-width: 2;\n          stroke: #000;\n          opacity: 1; \n          r:5;\n      }\n    `];\n  }\n\n  render() {\n    return html`\n      <svg></svg>\n    `;\n  }\n\n  firstUpdated() {\n    this.d3svg = d3.select(this.renderRoot.querySelector('svg'));\n  }\n\n  updated(prev) {\n    if ((prev.has('alldata') || prev.has('options')) && this.options && this.alldata) {\n      this.plot = new DotPlot(this.d3svg, this.options, this.alldata);\n      this.plot.draw();\n    }\n    if (this.plot && prev.has('annotated') && this.annotated) {\n      this.plot.annotate(this.annotated);\n    }\n  }\n}\ncustomElements.define('dot-plot', DotPlotElement);\n\nexport class DotPlot {\n  constructor(d3svg, dotPlotOptions, alldata) {\n    this.options = dotPlotOptions;\n    this.svg = d3svg;\n    this.allData = alldata;\n\n    this.svgWidth = 400;\n    this.svgHeight = 140;\n\n    this.margin = {\n      top: 50,\n      right: 20,\n      bottom: 50,\n      left: 20\n    };\n\n    this.chartWidth = this.svgWidth - this.margin.left - this.margin.right,\n    this.chartHeight = this.svgHeight - this.margin.top - this.margin.bottom;\n    this.tickPadding = 10; // spacing needed to see the ticks extend past the dots.\n   }\n\n   get x_scale() {\n      \n      //calculate the range values based on the domain values. If the domain has only two values, the range will be 0 and chartWidth. If there are more than two domain values, the chartWidth is evenly divided among them, creating a \"polylinear\" scale.  \n      var setRange = []; \n      this.options.domain.forEach((e, i) => {\n         setRange.push(this.chartWidth*i/(this.options.domain.length-1)); \n      });\n      \n      return d3.scaleLinear().domain(this.options.domain).range(setRange);\n   }\n\n   get y_scale() {\n      return d3.scaleBand().domain([\"\"]).rangeRound([0, this.chartHeight]);\n   }\n\n   draw(){\n      var options = this.options;\n\n      // console.log(\"draw dot plot ranging from \"+options.chartMin+\" to \"+options.chartMax+\" with the value \"+options.siteInfo[options.attributeKey]+\" annotated. \");\n\n\n      this.svg.attr('width', this.svgWidth).attr(\"height\", this.svgHeight);\n\n\n      //append a group.\n      var chartgroup = this.svg.append(\"g\").attr(\"class\", \"chartgroup\").attr(\"transform\", \"translate(\"+this.margin.left+\", \"+this.margin.top+\")\");\n\n      /* ~~~~~~~~~ Draw the chart ~~~~~~~~~ */\n\n\n      var xAxis = chartgroup.append(\"g\").attr(\"class\", \"x-axis\");\n      xAxis\n        .attr(\"transform\", \"translate(0,\" + this.chartHeight + \")\")\n        .call(\n          d3\n            .axisBottom(this.x_scale)\n            .tickSizeInner(-this.chartHeight)\n            .tickSizeOuter(0)\n            .tickPadding(5)\n            .tickValues(options.tickValues)\n            .tickFormat(d3.format(this.options.labelFormat))\n        )\n        .call(g => g.select(\".domain\").remove())              // remove the horizontal line of the x axis. The horizontal line through the chart is a y axis tick.\n\n\n      var yAxis = chartgroup.append(\"g\").attr(\"class\", \"y-axis\");    // the y axis will have one tick, which forms the horizontal line through the center of the chart.\n      yAxis\n        .call(\n          d3\n            .axisLeft(this.y_scale)\n            .tickSizeInner(-this.chartWidth)\n            .tickSizeOuter(0)\n            .tickPadding(0)\n        )\n        .call(g => g.select(\".domain\").remove())           // no vertical line for the y axis (all vertical lines are x axis ticks)\n        .call(g => g.selectAll(\"text\").remove());          // no labels on y axis\n\n     /* ~~~~~~~~~ create circles ~~~~~~~~~ */\n\n     this.circles = chartgroup.append(\"g\").attr(\"class\", \"circles\");\n\n     var jitterWidth = this.chartHeight-this.tickPadding;\n\n      // within the circles group, append a (sub)group for each data point, and append to that (sub)group a circle. \n     var datapoint = this.circles.selectAll(\"g\")\n         .data(this.allData, (d) => { return d.Site_Code; })\n         .enter()\n         .append(\"g\")\n         .attr(\"class\", \"datapoint\")\n      \n      \n      var dot = datapoint.append(\"circle\")\n         .attr(\"cx\", (d) => {return this.x_scale(d[options.attributeKey])})     // x position\n         // Math.random() returns values from 0 to less than 1, in approximately uniform distribution.\n         .attr(\"cy\", (d) => {return this.chartHeight/2 - jitterWidth/2 + Math.random()*jitterWidth})     // y position\n         .attr('r', 3)                                      // radius\n         .attr(\"fill\", (d) => { return RestylingCircleMarker.binPoint(options.attributeKey, d) })                           // fill color\n         .attr(\"stroke\", \"#000\")\n         .attr(\"stroke-width\", 0)\n         .attr(\"opacity\", \"0.7\")                           // opacity\n         .attr(\"class\", (d) => {\n                  return d.Site_Code\n               })\n         .on('click', (d) => {\n               console.log(\"switch to \"+d['Site_Code']);\n               dispatch(document, 'interaction', {params: d});\n         })\n         .on('mouseenter', (d) => {this.highlight(d['Site_Code'])})\n         .on('mouseleave', (d) => {this.unhighlight(d['Site_Code'])})\n      \n         .append(\"svg:title\")\n         .text((d) => d['Site_Code'])\n         ;\n\n   } // END DRAW. draw is called once when on firstUpdated. \n   \n   //annotate is called on update only. \n   annotate(siteCode) {\n     \n      var options = this.options;\n\n      //select all groups within the circles group, then filter down to the one that matches the site code. \n      var g = this.circles.selectAll(\"g\")\n         .filter((d) => d['Site_Code'] === siteCode)\n         .moveToFront();\n      \n      var circle = g.select('circle')         \n         .classed('annotated', true);          // add the annotation styling class to the circle. \n\n\n      var label = g.append(\"text\")\n         .attr('dy', '-0.75em') //vertical displacement\n         .html((d) => { \n            return keyLookup[options.attributeKey]['title'] + \": \"+d[options.attributeKey]\n         });\n      \n      g.append(\"polyline\")\n         .attr('stroke', \"#333333\")      //set appearance\n         .attr(\"stroke-width\", 3)        //set appearance\n         .style('fill', 'none')          //set appearance\n         .attr('points', (d) => {\n         \n            // two points on each line:\n             // A: top of the plot, vertically aligned with the dot\n             // B: bottom of the plot, vertically aligned with the dot\n             // each point is defined by an [x, y]\n            var startpoint = [0,0]\n                startpoint[0] = circle.attr('cx');\n                startpoint[1] = 0;\n\n            var endpoint = [0,0];\n                endpoint[0] = circle.attr('cx');\n                endpoint[1] = this.chartHeight;\n\n             // console.log(\"start, end\", startpoint, endpoint)\n             return [startpoint, endpoint]        // return A, B\n         \n         })\n         .moveToBack()  // move behind the dot (moves to the back of the group)\n         ; // end append polyline\n\n     \n   } //end annotate \n   \n   highlight(siteCode){\n      \n      var g = this.circles.selectAll(\"g\")\n         .filter((d) => d['Site_Code'] === siteCode)\n         .moveToFront();\n\n         g.select('circle').classed('highlighted', true); \n      \n   } // end highlight\n   \n   unhighlight(siteCode){\n      var g = this.circles.selectAll(\"g\")\n         .filter((d) => d['Site_Code'] === siteCode);\n\n         g.select('circle').classed('highlighted', false); \n      \n   }  // end unhighlight \n   \n}\n\n","import { LitElement, html, css } from 'lit-element';\nimport { styles } from 'wgnhs-styles';\n\nexport class DownloadSection extends LitElement {\n  static get properties() {\n    return {\n      file: {\n        type: String\n      }\n    };\n  }\n\n  constructor() {\n    super();\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css`\n    a {\n      text-decoration: none;\n    }\n    .download-button:hover {\n      color: var(--palette-900);\n    }\n    .download-button:focus {\n      outline: thin dotted;\n    }\n    .download-button {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n\n      cursor: pointer;\n      text-align: center;\n      background: var(--palette-white);\n      color: var(--palette-accent);\n      border: 1px solid var(--palette-light);\n      border-radius: var(--border-radius);\n      padding: var(--font-size);\n      margin: var(--border-radius) 0;\n    }\n    .download-button > div {\n      display: flex;\n      align-items: center;\n    }\n    .icon {\n      font-size: var(--icon-size-extra-large);\n    }\n    `];\n  }\n\n  render() {\n    return html`\n    <a class=\"download-button\" href=\"${this.file}\" target=\"_blank\" download>\n      <div>\n        <span>Download</span>\n      </div>\n      <div>\n        <i class=\"icon material-icons\" title=\"Download\">save_alt</i>\n      </div>\n    </a>\n    `;\n  }\n}\ncustomElements.define('download-section', DownloadSection);","import { LitElement, html, css } from 'lit-element';\nimport { styles } from 'wgnhs-styles';\nexport { AppCollapsible } from 'wgnhs-layout';\nexport { DownloadSection } from './download-section.js';\n\nconst TOGGLE_EVENT = 'toggle-pdf-panel';\n\nexport class SiteSketchButton extends LitElement {\n  static get properties() {\n    return {\n      src: {\n        type: String\n      },\n      panel: {\n        type: Object,\n        attribute: false\n      },\n      closed: {\n        type: Boolean,\n        attribute: false\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.closed=true;\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css``\n    ];\n  }\n\n  render() {\n    return html`\n    <app-collapsible @open=\"${this.toggle}\" button>\n      <i slot=\"header-before\" class=\"material-icons\" title=\"Site sketch map\">picture_as_pdf</i>\n      <span slot=\"header\">Site sketch map</span>\n      <i slot=\"header-after\" class=\"material-icons\">${\n          (!this.closed)?'chevron_left':'chevron_right'\n        }</i>\n    </app-collapsible>\n    `;\n  }\n\n  updated(prev) {\n    if ((prev.has('panel') || prev.has('src'))) {\n      if (this.panel && this.src) {\n        this.panel.request(this.src)\n      }\n    }\n  }\n\n  toggle(e) {\n    if (!this.closed) {\n      this.panel.hide();\n    } else {\n      this.panel.show(this.src);\n    }\n  }\n\n  handleAlt(e) {\n    if (e.detail.url === this.src) {\n      this.closed = false;\n    } else {\n      this.closed = true;\n    }\n    this.requestUpdate();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.__altHandler = this.handleAlt.bind(this);\n    document.addEventListener(TOGGLE_EVENT, this.__altHandler);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener(TOGGLE_EVENT, this.__altHandler);\n    super.disconnectedCallback();\n  }\n}\ncustomElements.define('site-sketch-button', SiteSketchButton);\n","/*!\n  @license https://github.com/ciampo/macro-carousel/blob/master/LICENSE\n  macro-carousel 1.0.0\n*/\n!function(){\"use strict\";let t;function getEvtListenerOptions(i){return!!function(){if(void 0===t){t=!1;try{const i=Object.defineProperty({},\"passive\",{get:()=>{t=!0}});window.addEventListener(\"test\",null,i)}catch(t){}}return t}()&&{passive:i}}function clamp(t,i=t,s=t){let e=t;if(i>s)throw new RangeError(`'min' ${i} should be lower than 'max' ${s}`);return t<i&&(e=i),t>s&&(e=s),e}function booleanSetter(t,i,s){s?t.setAttribute(i,\"\"):t.removeAttribute(i)}function booleanGetter(t,i){return t.hasAttribute(i)}function intSetter(t,i,s){t.setAttribute(i,s)}function intGetter(t,i,s=0){const e=t.getAttribute(i);return null===e?s:parseInt(e,10)}function normalizeEvent(t){if(\"touchstart\"===t.type||\"touchmove\"===t.type||\"touchend\"===t.type){const i=t.targetTouches[0]||t.changedTouches[0];return{x:i.clientX,y:i.clientY,id:i.identifier,event:t}}return{x:t.clientX,y:t.clientY,id:null,event:t}}const i=document.createElement(\"template\");i.innerHTML='<style>:host{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;contain:content;-webkit-tap-highlight-color:rgba(0,0,0,0);--macro-carousel-gap:16px;--macro-carousel-background-color:transparent;--macro-carousel-slide-min-height:0px;--macro-carousel-slide-max-height:none;--macro-carousel-transition-duration:0.6s;--macro-carousel-transition-timing-function:cubic-bezier(0.25,0.46,0.45,0.94);--macro-carousel-pagination-gap:2px;--macro-carousel-pagination-height:44px;--macro-carousel-fallback-message-color-background:#fff;--macro-carousel__internal__slides-per-view:1}:host([hidden]){display:none}:host-context(.js-focus-visible) ::slotted(:focus:not(.focus-visible)),:host-context(.js-focus-visible) :focus:not(.focus-visible){outline:0}#externalWrapper{height:100%;overflow:hidden;contain:paint;background-color:var(--macro-carousel-background-color);-ms-touch-action:pan-y pinch-zoom;touch-action:pan-y pinch-zoom;cursor:-webkit-grab;cursor:grab}#externalWrapper:active{cursor:-webkit-grabbing;cursor:grabbing}:host([disable-drag]) #externalWrapper{cursor:default}#slidesWrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;height:100%;min-height:var(--macro-carousel-slide-min-height);max-height:var(--macro-carousel-slide-max-height);will-change:transform}:host([transitioning]) #slidesWrapper{-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-duration:var(--macro-carousel-transition-duration);transition-duration:var(--macro-carousel-transition-duration);-webkit-transition-timing-function:var(--macro-carousel-transition-timing-function);transition-timing-function:var(--macro-carousel-transition-timing-function)}#slidesWrapper ::slotted(*){-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-preferred-size:calc((100% - (var(--macro-carousel__internal__slides-per-view) - 1) * var(--macro-carousel-gap)) / var(--macro-carousel__internal__slides-per-view));flex-basis:calc((100% - (var(--macro-carousel__internal__slides-per-view) - 1) * var(--macro-carousel-gap)) / var(--macro-carousel__internal__slides-per-view));min-height:var(--macro-carousel-slide-min-height);max-height:var(--macro-carousel-slide-max-height);margin-right:var(--macro-carousel-gap);overflow:hidden;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.slidesFallback{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0;padding:.5em 1em;width:100%;background-color:var(--macro-carousel-fallback-message-color-background)}:host([disable-drag]) #slidesWrapper ::slotted(*){-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}#pagination{display:none}:host([pagination]) #pagination{-ms-flex-item-align:center;align-self:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:var(--macro-carousel-pagination-height);contain:strict;font-size:0}div ::slotted(macro-carousel-pagination-indicator){margin:0 calc(var(--macro-carousel-pagination-gap) / 2);padding:0;font-size:inherit;opacity:.8}div ::slotted(macro-carousel-pagination-indicator.selected),div ::slotted(macro-carousel-pagination-indicator:hover){opacity:1}#navigation{display:none}:host([navigation]) #navigation{display:block}div ::slotted(macro-carousel-nav-button){position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}:host([pagination]) div ::slotted(macro-carousel-nav-button){top:calc(50% - var(--macro-carousel-pagination-height) / 2)}div ::slotted(.macro-carousel-previous){left:0}div ::slotted(.macro-carousel-next){right:0}#aria-live ::slotted(*){position:absolute;height:1px;width:1px;margin:-1px;padding:0;clip:rect(0 0 0 0);overflow:hidden;border:0}@media print{#slidesWrapper ::slotted(*){margin-right:0;margin-bottom:.2em;outline:1px solid #000;color:#000;page-break-inside:avoid}:host([navigation]) #navigation,:host([pagination]) #pagination{display:none}#slidesWrapper{display:block;-webkit-transform:none!important;transform:none!important;-webkit-transition:0s;transition:0s}}</style> <div id=\"externalWrapper\"> <div id=\"slidesWrapper\"> <slot id=\"slidesSlot\"> <p class=\"slidesFallback\">No content available</p> </slot> </div> </div> <div id=\"navigation\"> <slot id=\"navigationSlot\" name=\"navigationSlot\"></slot> </div> <div id=\"pagination\"> <slot id=\"paginationSlot\" name=\"paginationSlot\"></slot> </div> <div id=\"aria-live\"> <slot id=\"ariaSlot\" name=\"ariaSlot\"></slot> </div> ',window.ShadyCSS&&window.ShadyCSS.prepareTemplate(i,\"macro-carousel\");const s=.5,e=2,o=Math.abs((a=35,Math.round(100*Math.tan(a*Math.PI/180))/100));var a;const n=5;window.customElements.define(\"macro-carousel\",class MacroCarousel extends HTMLElement{constructor(){super(),this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(i.content.cloneNode(!0)),this.t=this.shadowRoot.querySelector(\"#externalWrapper\"),this.i=this.shadowRoot.querySelector(\"#slidesWrapper\"),this.s=this.shadowRoot.querySelector(\"#slidesSlot\"),this.e=this.shadowRoot.querySelector(\"#ariaSlot\"),this.o=this.shadowRoot.querySelector(\"#paginationSlot\"),this.a=[],this.n=this.shadowRoot.querySelector(\"#navigationSlot\"),this.r=void 0,this.h=void 0,this.c=[],this.l=-1,this.d=!1,this.u=0,this.m=0,this.g=0,this.p=0,this.b=0,this.v=0,this.w=void 0,this.f=!1,this.k=!1,this._=void 0,this.S=void 0,this.z=void 0,this.M=void 0,this.C=void 0,this.W=void 0,this.P=void 0,this.L=void 0,this.G=[],this.F=!1,this.I=50,this.$=20,this.A=.7,this.D=.04,this.T=0,this.N=!1}connectedCallback(){window.ShadyCSS&&window.ShadyCSS.styleElement(this),this.hasAttribute(\"role\")||this.setAttribute(\"role\",\"list\"),this.j(\"selected\"),this.j(\"loop\"),this.j(\"navigation\"),this.j(\"pagination\"),this.j(\"disableDrag\"),this.j(\"slidesPerView\"),this.j(\"reducedMotion\"),this.j(\"autoFocus\"),this.m=this.selected,this.O(),this.s.addEventListener(\"slotchange\",this),window.addEventListener(\"resize\",this,getEvtListenerOptions(!0)),this.addEventListener(\"keydown\",this),window.addEventListener(\"touchmove\",function(){}),this.q()}disconnectedCallback(){this.s.removeEventListener(\"slotchange\",this),window.removeEventListener(\"resize\",this),this.disableDrag||(this.t.removeEventListener(\"touchstart\",this),this.t.removeEventListener(\"mousedown\",this)),this.navigation&&(this.r.removeEventListener(\"macro-carousel-nav-button-clicked\",this),this.h.removeEventListener(\"macro-carousel-nav-button-clicked\",this)),this.pagination&&this.a.forEach(t=>{t.removeEventListener(\"macro-carousel-pagination-indicator-clicked\",this)})}handleEvent(t){\"resize\"===t.type&&t.target===window?(this.B(),this.update()):\"slotchange\"===t.type&&t.target===this.s?this.q():\"macro-carousel-pagination-indicator-clicked\"===t.type&&this.pagination?this.V(t):\"macro-carousel-nav-button-clicked\"===t.type&&this.navigation?t.target===this.r?this.previous():t.target===this.h&&this.next():\"keydown\"===t.type?37===t.keyCode||38===t.keyCode?this.previous():39!==t.keyCode&&40!==t.keyCode||this.next():\"transitionend\"===t.type&&t.target===this.i?(this.H(),this.R(),this.X()):\"touchstart\"===t.type||\"mousedown\"===t.type?this.Y(normalizeEvent(t)):\"touchmove\"===t.type||\"mousemove\"===t.type?this.U(normalizeEvent(t)):\"touchend\"===t.type||\"mouseup\"===t.type?this.J(normalizeEvent(t)):\"touchcancel\"===t.type&&this.K()}j(t){if(this.hasOwnProperty(t)){const i=this[t];delete this[t],this[t]=i}}update(){clearTimeout(this.w),this.B(),this.w=setTimeout(()=>{this.Q()},50)}Q(){this.Z(),this.tt(),this.it(),this.st(this.c.map(t=>t.layoutIndex),!0),this.et(this.selected),this.ot(),this.at(),this.nt(),this.H(),this.X(),this.O()}previous(){this.selected=this.rt(this.selected)}rt(t){let i=t;return t>0?i=t-1:this.loop&&(this.d&&(this.u-=1),i=this.l),clamp(i,0,this.l)}next(){this.selected=this.ht(this.selected)}ht(t){let i=t;return t<this.l?i=t+1:this.loop&&(this.d&&(this.u+=1),i=0),clamp(i,0,this.l)}static get observedAttributes(){return[\"selected\",\"loop\",\"navigation\",\"pagination\",\"disable-drag\",\"slides-per-view\",\"reduced-motion\",\"auto-focus\"]}attributeChangedCallback(t,i,s){switch(0===this.c.length&&this.q(),t){case\"selected\":const e=parseInt(s,10);if(!Number.isFinite(e)||e>this.l||e<0)return void(this.selected=i||0);if(this.d){const t=this.selected+this.u*(this.l+1),i=this.m-t,s=[],e=i<0?this.slidesPerView+i:0;for(let o=-1;o<Math.abs(i);o++)s.push(o+t+e);this.st(s),this.m=t}this.et(this.selected),this.ot(),this.at(),this.dispatchEvent(new CustomEvent(\"macro-carousel-selected-changed\",{detail:this.selected,bubbles:!0})),this.f||this.N||(this.H(),this.R(),this.X());break;case\"loop\":this.tt(),this.it(),this.st(this.c.map((t,i)=>i)),this.at(),this.ot(),this.H(),this.R(),this.X(),window.ShadyCSS&&window.ShadyCSS.styleSubtree(this);break;case\"navigation\":this.update(),window.ShadyCSS&&window.ShadyCSS.styleSubtree(this);break;case\"pagination\":this.ot(),window.ShadyCSS&&window.ShadyCSS.styleSubtree(this);break;case\"disable-drag\":this.nt();break;case\"slides-per-view\":const o=parseInt(s,10);if(!Number.isFinite(o)||o<1||o>this.c.length)return void(this.slidesPerView=i||1);this.update(),window.ShadyCSS&&window.ShadyCSS.styleSubtree(this);break;case\"reduced-motion\":null!==s?this.B():this.O()}}set selected(t){intSetter(this,\"selected\",t)}get selected(){return intGetter(this,\"selected\")}set loop(t){booleanSetter(this,\"loop\",t)}get loop(){return booleanGetter(this,\"loop\")}set navigation(t){booleanSetter(this,\"navigation\",t)}get navigation(){return booleanGetter(this,\"navigation\")}set pagination(t){booleanSetter(this,\"pagination\",t)}get pagination(){return booleanGetter(this,\"pagination\")}set disableDrag(t){booleanSetter(this,\"disable-drag\",t)}get disableDrag(){return booleanGetter(this,\"disable-drag\")}set slidesPerView(t){intSetter(this,\"slides-per-view\",t)}get slidesPerView(){return intGetter(this,\"slides-per-view\",1)}set reducedMotion(t){booleanSetter(this,\"reduced-motion\",t)}get reducedMotion(){return booleanGetter(this,\"reduced-motion\")}set autoFocus(t){booleanSetter(this,\"auto-focus\",t)}get autoFocus(){return booleanGetter(this,\"auto-focus\")}B(){this.f=!1,this.removeAttribute(\"transitioning\"),this.i.removeEventListener(\"transitionend\",this,!1)}O(){this.reducedMotion||requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.f=!0,this.setAttribute(\"transitioning\",\"\"),this.i.addEventListener(\"transitionend\",this,!1)})})}Z(){this.g=this.i.getBoundingClientRect().width,this.p=this.ct(),this.b=this.lt()}lt(){return(this.g-(this.slidesPerView-1)*this.p)/this.slidesPerView}ct(){/\\d$/.test(function(t,i){const s=getComputedStyle(t);return String(s.getPropertyValue(i)).trim()}(this,\"--macro-carousel-gap\"))&&console.warn(\"Warning: it looks like --macro-carousel-gap has a unitless value.\\nAdd CSS units to its value to avoid breaking the slides layout.\");const t=parseInt(getComputedStyle(this.c[0].element)[\"margin-right\"],10);return Number.isFinite(t)?t:0}it(){var t,i,s;t=this,i=\"--macro-carousel__internal__slides-per-view\",s=`${this.slidesPerView}`,t.style.setProperty(i,s),window.ShadyCSS&&window.ShadyCSS.styleSubtree(t,{[i]:s}),this.l=this.d?this.c.length-1:this.dt(),!this.d&&this.selected>this.l&&(this.selected=this.l)}dt(){return Math.max(0,this.c.length-this.slidesPerView)}ut(t){let i=t;for(;i<0;)i+=this.c.length;return i%this.c.length}st(t,i=!1){let s;t.forEach(t=>{!i&&this.c.find(i=>i.layoutIndex===t)||(s=this.ut(t),this.c[s].layoutIndex=t,this.c[s].position=this.mt(t),this.c[s].element.style.transform=`translateX(${this.mt(s-t)}px)`)})}mt(t){return-t*(this.b+this.p)}gt(t){this.i.style.transform=`translate3d(${t}px, 0, 0)`,this.v=t}et(t){this.i&&!this.N&&this.gt(this.c[t].position)}R(){this.autoFocus&&this.c[this.selected].element.focus()}H(){const t=[];for(let i=0;i<this.slidesPerView;i++)t.push((this.selected+i)%this.c.length);let i;this.c.map(t=>t.element).forEach((s,e)=>{i=void 0!==t.find(t=>t===e),s.setAttribute(\"aria-hidden\",i?\"false\":\"true\"),i?(s.removeAttribute(\"inert\"),s.setAttribute(\"tabindex\",-1)):s.setAttribute(\"inert\",\"\")})}ot(){if((!this.pagination||this.pagination&&this.o.assignedNodes().length!==this.l+1)&&(this.a.forEach(t=>{t.removeEventListener(\"macro-carousel-pagination-indicator-clicked\",this),this.removeChild(t)}),this.a.length=0),this.pagination){if(this.o.assignedNodes().length!==this.l+1){const t=document.createDocumentFragment();for(let i=0;i<=this.l;i++){const s=document.createElement(\"macro-carousel-pagination-indicator\");s.textContent=i,s.setAttribute(\"slot\",\"paginationSlot\"),s.setAttribute(\"aria-label\",`Go to item ${i+1}`),s.addEventListener(\"macro-carousel-pagination-indicator-clicked\",this),t.appendChild(s),this.a.push(s)}this.appendChild(t)}this.a.forEach((t,i)=>{i===this.selected?t.classList.add(\"selected\"):t.classList.remove(\"selected\")})}}V(t){this.selected=parseInt(t.target.textContent,10)}pt(t){const i=document.createElement(\"macro-carousel-nav-button\");return i.classList.add(t),i.setAttribute(\"slot\",\"navigationSlot\"),i.addEventListener(\"macro-carousel-nav-button-clicked\",this),/next/.test(t)&&i.setAttribute(\"flipped\",\"\"),i}at(){(!this.navigation||this.navigation&&2!==this.n.assignedNodes().length)&&(this.n.assignedNodes().forEach(t=>{t.removeEventListener(\"macro-carousel-nav-button-clicked\",this),this.removeChild(t)}),this.r=void 0,this.h=void 0),this.navigation&&(2!==this.n.assignedNodes().length&&(this.r=this.pt(\"macro-carousel-previous\"),this.appendChild(this.r),this.h=this.pt(\"macro-carousel-next\"),this.appendChild(this.h)),this.r.disabled=!this.loop&&0===this.selected,this.h.disabled=!this.loop&&this.selected===this.l,this.r.setAttribute(\"aria-label\",`Go to ${this.loop&&0===this.selected?\"last\":\"previous\"} item`),this.h.setAttribute(\"aria-label\",`Go to ${this.loop&&this.selected===this.l?\"first\":\"next\"} item`))}tt(){this.d=this.loop&&this.dt()>1}bt(){return this.s.assignedNodes({flatten:!0}).forEach(t=>{t.nodeType===Node.TEXT_NODE&&t.parentNode&&t.parentNode.removeChild(t)}),this.s.assignedNodes({flatten:!0}).filter(t=>t.nodeType===Node.ELEMENT_NODE).map((t,i)=>({element:t,layoutIndex:i,position:this.mt(i)}))||[]}q(){this.c=this.bt(),this.c.forEach(t=>{t.element.hasAttribute(\"tabindex\")||t.element.setAttribute(\"tabindex\",-1),\"list\"===this.getAttribute(\"role\")&&t.element.setAttribute(\"role\",\"listitem\")});const t=this.c.length>0&&-1===this.l;this.Q(),t&&(this.selected=this.selected)}X(){1!==this.e.assignedNodes().length&&(this.vt=document.createElement(\"div\"),this.vt.setAttribute(\"slot\",\"ariaSlot\"),this.vt.setAttribute(\"aria-live\",\"polite\"),this.vt.setAttribute(\"aria-atomic\",\"true\"),this.appendChild(this.vt));const t=this.c[this.selected].layoutIndex;let i=\"\";for(let s=0;s<this.slidesPerView;s++)i+=(t+s)%this.c.length+1,s<this.slidesPerView-2?i+=\", \":s<this.slidesPerView-1&&(i+=\" and \");this.vt.textContent=`Item${this.slidesPerView>1?\"s\":\"\"} ${i} of ${this.c.length} visible`}nt(){this.disableDrag?(this.t.removeEventListener(\"touchstart\",this),this.t.removeEventListener(\"mousedown\",this)):(this.t.addEventListener(\"touchstart\",this,getEvtListenerOptions(!0)),this.t.addEventListener(\"mousedown\",this,getEvtListenerOptions(!0)))}Y(t){this.k||(this.N=!1,this.k=!0,this._=t.id,this.S=this.M=this.W=t.x,this.z=this.C=this.P=t.y,this.L=this.c[this.selected].layoutIndex,this.G=[],this.wt(this.M),window.addEventListener(\"touchmove\",this,getEvtListenerOptions(!1)),window.addEventListener(\"mousemove\",this,getEvtListenerOptions(!1)),window.addEventListener(\"mouseup\",this),window.addEventListener(\"touchend\",this),window.addEventListener(\"touchcancel\",this))}U(t){if(this.k&&t.id===this._){this.W=t.x,this.P=t.y;const i=Math.abs(this.W-this.S),s=Math.abs(this.P-this.z);i/s>o||0===s||s>i&&s-i<n?(t.event.preventDefault(),this.wt(this.M),this.B(),this.ft()):this.K()}}J(t){this.k&&t.id===this._&&this.K()}K(){this.k=!1,this._=void 0,this.wt(this.M),window.removeEventListener(\"touchmove\",this),window.removeEventListener(\"mousemove\",this),window.removeEventListener(\"touchend\",this),window.removeEventListener(\"mouseup\",this),window.removeEventListener(\"touchcancel\",this),this.kt()}wt(t){const i=Date.now();for(;this.G.length>0&&!(i-this.G[0].time<=100);)this.G.shift();this.G.push({x:t,time:i})}ft(){this.F||requestAnimationFrame(this.xt.bind(this)),this.F=!0}xt(){const t=this.v+this.W-this.M;let i,s;if(this.c.forEach((e,o)=>{e.position>=t&&(void 0===s||e.position<s)&&(s=e.position,i=o)}),this.d){let t;if(void 0===i){const s=this.c.slice(0).sort((t,i)=>t.layoutIndex>i.layoutIndex)[0];for(i=s.layoutIndex-1;i<0;)i+=this.c.length;i%=this.c.length,t=s.layoutIndex-2}else t=this.c[i].layoutIndex-1;const s=[],e=t+this.slidesPerView+2;for(let i=t;i<e;i++)s.push(i);this.st(s)}else i=i||0;this.L=this.c[i].layoutIndex,this.gt(t),this.M=this.W,this.C=this.P,this.F=!1}kt(){this.N=!0;const t=this.G[this.G.length-1],i=this.G[0],o=t.x-i.x||0;this.u=Math.floor(this.L/this.c.length);const a=this.ut(this.L);let n;if(0===o)this.T=0,n=this.c[a].position-this.v>this.b/2?this.ht(a):a;else{this.T=function(t,i,s){if(0===t)throw new RangeError(\"x must be different from `0`\");return t/Math.abs(t)*clamp(Math.abs(t),i,s)}(o,this.$,this.I);let t=1;const i=this.g*s;for(;Math.abs(o)>i*t&&t<this.slidesPerView+e;)t+=1;o>0&&(t-=1);let r=a;for(let i=0;i<t;i++)r=o<0?this.ht(r):this.rt(r);n=r}this.selected=clamp(n,0,this.l),requestAnimationFrame(this.yt.bind(this))}yt(){if(!this.N)return;const t=this.c[this.selected].position;this.T+=this.D*(t-this.v),this.T*=this.A;const i=this.v+this.T;(Math.abs(t-i)>=1||Math.abs(this.T)>=1)&&!this.reducedMotion?(this.gt(i),requestAnimationFrame(this.yt.bind(this))):(this.gt(t),this.N=!1,this.O(),requestAnimationFrame(()=>{this.H(),this.R(),this.X()}))}});class MacroCarouselButton extends HTMLElement{constructor(){super();const t=Object.getPrototypeOf(this).constructor.template;this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(t.content.cloneNode(!0))}connectedCallback(){window.ShadyCSS&&window.ShadyCSS.styleElement(this),this._t=0,this.hasAttribute(\"role\")||this.setAttribute(\"role\",\"button\"),this.hasAttribute(\"tabindex\")?this._t=this.getAttribute(\"tabindex\"):this.setAttribute(\"tabindex\",this._t),this.j(\"disabled\"),this.addEventListener(\"keydown\",this),this.addEventListener(\"click\",this)}j(t){if(this.hasOwnProperty(t)){const i=this[t];delete this[t],this[t]=i}}static get observedAttributes(){return[\"disabled\"]}set disabled(t){booleanSetter(this,\"disabled\",t)}get disabled(){return booleanGetter(this,\"disabled\")}attributeChangedCallback(t,i,s){switch(t){case\"disabled\":if(i===s)return;this.disabled?(this._t=this.getAttribute(\"tabindex\"),this.removeAttribute(\"tabindex\"),this.setAttribute(\"aria-disabled\",\"true\")):(this.setAttribute(\"tabindex\",this._t),this.setAttribute(\"aria-disabled\",\"false\"))}}handleEvent(t){this.disabled?t.preventDefault():\"click\"===t.type?this.St&&this.St():\"keydown\"!==t.type||32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),this.St&&this.St())}}const r=document.createElement(\"template\");r.innerHTML='<style>:host{--macro-carousel-navigation-color:#000;--macro-carousel-navigation-color-focus:var(--macro-carousel-navigation-color);--macro-carousel-navigation-color-background:transparent;--macro-carousel-navigation-color-background-focus:#f0f0f0;--macro-carousel-navigation-button-size:48px;--macro-carousel-navigation-icon-size:24px;--macro-carousel-navigation-icon-mask:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 24 24\\'%3E%3Cpath d=\\'M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\\'/%3E%3C/svg%3E\");position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;min-width:var(--macro-carousel-navigation-button-size);min-height:var(--macro-carousel-navigation-button-size);border-radius:50%;overflow:hidden;cursor:pointer;contain:paint}:host([disabled]){opacity:.2}.bg,.content{position:absolute;top:0;right:0;bottom:0;left:0}.content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:var(--macro-carousel-navigation-color-background)}.bg{z-index:0;background-color:var(--macro-carousel-navigation-color-background-focus);opacity:0;will-change:opacity}.icon{position:relative;z-index:1;width:var(--macro-carousel-navigation-icon-size);height:var(--macro-carousel-navigation-icon-size);color:var(--macro-carousel-navigation-color);background:var(--macro-carousel-navigation-icon-mask)}@supports ((-webkit-mask-image:var(--macro-carousel-navigation-icon-mask)) or (mask-image:var(--macro-carousel-navigation-icon-mask))){.icon{background:var(--macro-carousel-navigation-color);-webkit-mask-image:var(--macro-carousel-navigation-icon-mask);mask-image:var(--macro-carousel-navigation-icon-mask)}}:host([flipped]) .icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.focus-visible) .bg,:host(:active:not([disabled])) .bg,:host(:focus:not([disabled])) .bg,:host(:hover:not([disabled])) .bg{opacity:1}:host-context(.js-focus-visible):host(:focus:not(:active):not(:hover):not(.focus-visible)) .bg{opacity:0}@supports ((-webkit-mask-image:var(--macro-carousel-navigation-icon-mask)) or (mask-image:var(--macro-carousel-navigation-icon-mask))){:host(.focus-visible) .icon,:host(:active:not([disabled])) .icon,:host(:focus:not([disabled])) .icon,:host(:hover:not([disabled])) .icon{background:var(--macro-carousel-navigation-color-focus)}:host-context(.js-focus-visible):host(:focus:not(:active):not(:hover):not(.focus-visible)) .icon{background:var(--macro-carousel-navigation-color)}}</style> <div class=\"content\"> <div class=\"bg\"></div> <div class=\"icon\"></div> </div> ',window.ShadyCSS&&window.ShadyCSS.prepareTemplate(r,\"macro-carousel-nav-button\");window.customElements.define(\"macro-carousel-nav-button\",class MacroCarouselNavButton extends MacroCarouselButton{static get template(){return r}St(){this.dispatchEvent(new CustomEvent(\"macro-carousel-nav-button-clicked\"))}});const h=document.createElement(\"template\");h.innerHTML='<style>:host{--macro-carousel-pagination-color:#999;--macro-carousel-pagination-color-selected:#000;--macro-carousel-pagination-size-clickable:24px;--macro-carousel-pagination-size-dot:8px;--macro-carousel-pagination-border:1px solid var(--macro-carousel-pagination-color);--macro-carousel-pagination-border-selected:1px solid var(--macro-carousel-pagination-color-selected);position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:var(--macro-carousel-pagination-size-clickable);height:var(--macro-carousel-pagination-size-clickable);overflow:hidden;cursor:pointer;contain:paint}.bg,.fg,:host{border-radius:50%}.bg,.fg{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:block;width:var(--macro-carousel-pagination-size-dot);height:var(--macro-carousel-pagination-size-dot);-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--macro-carousel-pagination-color);content:\"\"}.bg{-webkit-transform:translate(-50%,-50%) scale(2);transform:translate(-50%,-50%) scale(2);opacity:0;will-change:opacity}.fg{border:var(--macro-carousel-pagination-border)}:host(.focus-visible) .bg,:host(:hover) .bg{opacity:.2}:host(.selected) .fg{background-color:var(--macro-carousel-pagination-color-selected);border:var(--macro-carousel-pagination-border-selected)}</style> <div class=\"bg\"></div> <div class=\"fg\"></div> ',window.ShadyCSS&&window.ShadyCSS.prepareTemplate(h,\"macro-carousel-pagination-indicator\");window.customElements.define(\"macro-carousel-pagination-indicator\",class MacroCarouselPaginationIndicator extends MacroCarouselButton{static get template(){return h}St(){this.dispatchEvent(new CustomEvent(\"macro-carousel-pagination-indicator-clicked\"))}})}();\n","import { LitElement, html, css } from 'lit-element';\nimport { styles } from 'wgnhs-styles';\n\nexport class ModalDialog extends LitElement {\n  static get properties() {\n    return {\n      open: {\n        type: Boolean,\n        attribute: 'open-modal',\n        reflect: true\n      },\n      source: {\n        type: String\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.open = false;\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css`\n      .modal {\n        position: fixed;\n        background: var(--palette-accent-transparent);\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: var(--z-index-interrupt);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      .modal-window {\n        position: relative;\n        padding: 0.5em;\n        border-radius: var(--border-radius);\n        background: var(--palette-light);\n      }\n      .modal-content {\n        max-height: 90vh;\n        max-width: 90vw;\n      }\n      .modal-close {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border-radius: var(--border-radius);\n      }\n      .control {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: var(--icon-size-large);\n        color: var(--palette-accent);\n        text-align: center;\n        cursor: pointer;\n        padding: var(--border-radius);\n        background-color: var(--palette-light);\n        border: none;\n        border-radius: 50%;\n      }\n      [data-closed] {\n        display: none;\n      }\n    `];\n  }\n\n  render() {\n    return html`\n      <div class=\"modal b-close-modal\" role=\"dialog\" aria-hidden=\"true\" ?data-closed=\"${!this.open}\" @click=\"${this.handleClick}\">\n        <div class=\"modal-window\">\n            <button class=\"control modal-close b-close-modal\"><i class=\"material-icons b-close-modal\" title=\"Hide\">close</i></button>\n            ${(!this.source)?'':html`\n              <img class=\"modal-content\" src=\"${this.source}\" />\n            `}\n        </div>\n      </div>\n    `;\n  }\n\n  toggleOpen() {\n    this.open = !this.open;\n  }\n\n  handleClick(e) {\n    if (e.target.classList.contains('b-close-modal')) {\n      this.toggleOpen();\n    }\n  }\n}\ncustomElements.define('modal-dialog', ModalDialog);","import { LitElement, html, css } from 'lit-element';\nexport * from 'macro-carousel';\nexport { ModalDialog } from './modal-dialog.js';\n\nexport class SitePhotos extends LitElement {\n  static get properties() {\n    return {\n      photos: Array,\n      clickedImg: {\n        type: String,\n        attribute: false\n      },\n      printLayout: {\n        type: Boolean,\n        attribute: 'print-layout'\n      }\n    };\n  }\n\n  constructor() {\n    super();\n  }\n\n  static get styles() {\n    return css`\n      macro-carousel {\n        padding: 0 3em;\n        max-width: 75vw;\n        margin: 0 auto;\n      }\n      .slide {\n        min-height: 40vh;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      .slide[data-compact] {\n        max-height: 40vh;\n      }\n      .slide img {\n        max-width: 100%;\n      }\n      .text {\n        background-color: var(--palette-accent-transparent);\n        color: var(--palette-white);\n        position: absolute;\n        left: 0;\n        width: 100%;\n      }\n      .text p {\n        margin: 0 1em;\n      }\n      .title {\n        top: 0;\n      }\n      .caption {\n        bottom: 0;\n        max-height: calc(var(--line-height) * 3);\n        overflow: hidden;\n      }\n    `;\n  }\n\n  render() {\n    return html`\n    ${(!this.photos)?'':html`\n    <macro-carousel navigation pagination>\n    <slot>\n      ${this.photos.map((el) => (!el.FileURL)?'':html`\n      <div class=\"slide\" title=\"Double-click to expand\" ?data-compact=\"${!this.printLayout}\">\n        <img \n          src=\"${el.FileURL}\"\n          alt=\"${el.Description}\"\n          @dblclick=\"${this.handleImageClick}\"\n        />\n\n        ${(!el.Image_Number)?'':html`\n        <div class=\"title text\">\n          <p>\n            PP${el.Image_Number}\n          </p>\n        </div>\n        `}\n\n        ${(!el.Description)?'':html`\n        <div class=\"caption text\">\n          <p>\n            ${el.Description}\n          </p>\n        </div>\n        `}\n      </div>\n      `)}\n    </slot>\n    </macro-carousel>\n    <modal-dialog></modal-dialog>\n    `}\n    `;\n  }\n\n  firstUpdated() {\n    this.$modal = this.renderRoot.querySelector('modal-dialog');\n  }\n\n  handleImageClick(e) {\n    this.clickedImg = e.target.src;\n    this.$modal.source = this.clickedImg;\n    this.$modal.toggleOpen();\n  }\n}\ncustomElements.define('site-photos', SitePhotos);","import { LitElement, html, css } from 'lit-element';\nimport { genId } from 'wgnhs-common';\nimport { styles } from 'wgnhs-styles';\nexport { AppCollapsible } from 'wgnhs-layout';\n\nimport { keyLookup, ignoredKeys } from '../site-data.js';\nexport { SiteBedMaterials } from './site-bed-materials.js';\nexport { SiteWaterQuality } from './site-water-quality.js';\nexport { SiteSketchButton } from './site-sketch.js';\nexport { SitePhotos } from './site-photos.js';\n\nexport class SiteDetails extends LitElement {\n  static get properties() {\n    return {\n      siteinfo: {\n        type: Object,\n        attribute: false\n      },\n      photos: {\n        type: Array,\n        attribute: false\n      },\n      pdfpanel: {\n        type: Object,\n        attribute: false\n      },\n      pdfsrc: {\n        type: String\n      },\n      printLayout: {\n        type: Boolean,\n        attribute: 'print-layout'\n      },\n      alldata: {\n        type: Object,\n        attribute: false\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.genId = (function() {\n      const memo = {};\n      return function(index) {\n        if (!memo[index]) {\n          memo[index] = genId();\n        }\n        return memo[index];\n      }\n    })();\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css`\n      [data-element=\"table\"] {\n        display: grid;\n        grid-template-columns: 30% 1fr;\n        grid-gap: 0.5em;\n        width: 100%;\n      }\n\n      td {\n        padding: 0.5em;\n      }\n\n      .label {\n        background-color: var(--palette-dark);\n        font-weight: var(--font-weight-bold);\n      }\n\n      .detail {\n        background-color: var(--palette-light);\n      }\n\n      .header {\n        position: -webkit-sticky;\n        position: sticky;\n        top: 0px;\n        background-color: var(--palette-white);\n        padding: var(--font-size-extra-large) var(--border-radius);\n        z-index: 10;\n        width: 100%;\n        box-sizing: border-box;\n        display: flex;\n        justify-content: space-between;\n      }\n      .header h1 {\n        padding: 0;\n        max-width: 70%;\n        text-align: center;\n      }\n      .header i {\n        font-size: var(--icon-size-large);\n        color: var(--palette-accent);\n        cursor: pointer;\n      }\n      \n      [data-closed] {\n        display: none;\n      }\n\n      app-collapsible i {\n        font-size: var(--icon-size-large);\n      }\n\n      app-collapsible i[slot=\"header-after\"]::after {\n        content: \"expand_more\";\n      }\n\n      app-collapsible[open] i[slot=\"header-after\"]::after {\n        content: \"expand_less\";\n      }\n    `];\n  }\n\n  get renderTable() {\n    let key = 0, value = 1;\n    return Object.entries(this.siteinfo).filter((el, index) => {\n      return !ignoredKeys.includes(el[key]);\n    }).map((el, index) => html`\n    <td class=\"label\" title=\"${(keyLookup[el[key]])?keyLookup[el[key]].desc:el[key]}\">\n      <label for=\"${this.genId(index)}\" >\n        ${(keyLookup[el[key]])?keyLookup[el[key]].title:el[key]}\n      </label>\n    </td>\n    <td class=\"detail\" title=\"${(keyLookup[el[key]])?keyLookup[el[key]].desc:el[key]}\">\n      <span id=\"${this.genId(index)}\">\n        ${(keyLookup[el[key]]&&keyLookup[el[key]].transform)?keyLookup[el[key]].transform(el[value]):el[value]}\n      </span>\n    </td>\n  `)\n  }\n\n  render() {\n    return html`\n      ${(!this.siteinfo)? '' : html`\n        <div class=\"header\">\n          <span>\n            <a href=\"${window.router.link('view', this.siteinfo)}\" onclick=\"event.preventDefault()\"><i class=\"material-icons toggle-print\" title=\"Back to website\" @click=\"${this.fireTogglePrint}\" ?data-closed=\"${!this.printLayout}\">arrow_back</i></a>\n            <a href=\"${window.router.link('entry')}\" onclick=\"event.preventDefault()\"><i class=\"material-icons clear-selection\" title=\"Clear selection\" @click=\"${this.fireClearSelection}\" ?data-closed=\"${this.printLayout}\">arrow_back</i></a>\n          </span>\n          <h1>${this.siteinfo.County} County Spring #${this.siteinfo.SpringID}</h1>\n          <span>\n            <a href=\"${window.router.link('print', this.siteinfo)}\" onclick=\"event.preventDefault()\"><i class=\"material-icons toggle-print\" title=\"Print layout\" @click=\"${this.fireTogglePrint}\" ?data-closed=\"${this.printLayout}\">zoom_out_map</i></a>\n            <i class=\"material-icons print-action\" title=\"Print this page\" @click=\"${this.handlePrint}\" ?data-closed=\"${!this.printLayout}\">print</i>\n          </span>\n        </div>\n        <site-photos .photos=\"${this.photos}\" ?print-layout=\"${this.printLayout}\"></site-photos>\n        <site-sketch-button\n          .panel=${this.pdfpanel}\n          src=\"${this.pdfsrc}\"></site-sketch-button>\n        <app-collapsible open>\n          <i slot=\"header-before\" class=\"material-icons\" title=\"Water quality\">bar_chart</i>\n          <span slot=\"header\">Water quality</span>\n          <i slot=\"header-after\" class=\"material-icons\"></i>\n          <div slot=\"content\">\n            <site-water-quality .siteinfo=\"${this.siteinfo}\" .alldata=\"${this.alldata}\"></site-water-quality>\n          </div>\n        </app-collapsible>\n        <app-collapsible open>\n          <i slot=\"header-before\" class=\"material-icons\" title=\"Spring-bed materials\">bar_chart</i>\n          <span slot=\"header\">Spring-bed materials</span>\n          <i slot=\"header-after\" class=\"material-icons\"></i>\n          <div slot=\"content\">\n            <site-bed-materials .siteinfo=\"${this.siteinfo}\"></site-bed-materials> \n          </div>\n        </app-collapsible>\n        <app-collapsible .open=\"${this.printLayout}\">\n          <i slot=\"header-before\" class=\"material-icons\" title=\"All data\">view_list</i>\n          <span slot=\"header\">All data</span>\n          <i slot=\"header-after\" class=\"material-icons\"></i>\n          <div slot=\"content\" data-element=\"table\">\n            ${this.renderTable}\n          </div>\n        </app-collapsible>\n      `}\n    `;\n  }\n\n  handlePrint() {\n    window.print();\n  }\n\n  fireClearSelection() {\n    let event = new CustomEvent('clear-selection', {\n      bubbles: true,\n      detail: {}\n    });\n    this.dispatchEvent(event);\n  }\n  fireTogglePrint() {\n    let event = new CustomEvent('toggle-print', {\n      bubbles: true,\n      detail: {\n        on: !this.printLayout,\n        params: this.siteinfo\n      }\n    });\n    this.dispatchEvent(event);\n  }\n}\ncustomElements.define('site-details', SiteDetails);\n","import { LitElement, html, css } from 'lit-element';\nimport { genId, dispatch } from 'wgnhs-common';\nimport { styles } from 'wgnhs-styles';\nexport { AppCollapsible } from 'wgnhs-layout';\n\nimport {\n  dischargeDotPlotOptions,\n  conductivityDotPlotOptions\n} from '../details/site-water-quality.js';\nexport { DotPlotElement } from '../details/site-water-quality.js';\n\nconst CHANGE_EVENT = 'map-control';\nconst STYLE_EVENT = 'stylepoints';\nconst RESET_TYPE = 'normal';\n\nexport class MapControls extends LitElement {\n  static get properties() {\n    return {\n      alldata: {\n        type: Object,\n        attribute: false\n      }\n    };\n  }\n\n  constructor() {\n    super();\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css`\n      .option-container {\n        box-sizing: border-box;\n        padding: var(--border-radius)\n      }\n      .plot-container {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      .type-container {\n        margin: var(--font-size);\n      }\n    `];\n  }\n\n  render() {\n    return html`\n      <div class=\"option-container\">\n        <map-control-item \n          name=\"Spring Type\"\n          type=\"type\">\n          <span>\n         About 26 percent of the springs inventoried emerge as fracture or contact springs, and 74 percent have seepage-filtration morphologies.<br><br>\n         <strong><b>Fracture spring</b></strong>—Groundwater discharges from joints or fractures in bedrock.<br>\n         <strong><b>Contact springs</b></strong>—Groundwater discharges at a stratigraphic contact, along which fractures often form.<br>\n         <strong><b>Seepage-filtration spring</b></strong>—Groundwater discharges from many small openings in permeable, unlithified material.\n          </span>\n          <div class=\"type-container\">\n            <div><legend-dot></legend-dot><span>Fracture or contact spring</span></div>\n            <div><legend-dot alt></legend-dot><span>Seepage-filtration morphology</span></div>\n          </div>\n        </map-control-item>\n        <map-control-item \n          name=\"Discharge (ft&sup3;/s)\"\n          type=\"q\">\n          <span>\n          The average flow rate of the springs for which flow could be measured was 0.96 ft³/s; values ranged from 0.14 ft³/s to 18.3 ft³/s.\n          </span>\n          <div class=\"plot-container\">\n            <dot-plot\n              .options=\"${dischargeDotPlotOptions}\"\n              .alldata=\"${this.alldata}\"></dot-plot>\n          </div>\n        </map-control-item>\n        <map-control-item \n          name=\"Specific conductance (µS/cm, 25°C)\"\n          type=\"cond\">\n          <span>\n          Specific conductance is a general measure of the total dissolved solids in spring water. The lowest spring water conductivity values are in northern Wisconsin; the highest values are found in the southeastern part of the state.\n          </span>\n          <div class=\"plot-container\">\n            <dot-plot\n              .options=\"${conductivityDotPlotOptions}\"\n              .alldata=\"${this.alldata}\"></dot-plot>\n          </div>\n        </map-control-item>\n      </div>\n    `;\n  }\n}\ncustomElements.define('map-controls', MapControls);\n\nexport class MapControlItem extends LitElement {\n  static get properties() {\n    return {\n      name: {\n        type: String\n      },\n      type: {\n        type: String\n      },\n      selected: {\n        type: Boolean,\n        attribute: false\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.genId = genId();\n    this.selected = false;\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css`\n    .icon {\n      font-size: var(--icon-size-extra-large);\n    }\n    .icon[active] {\n      color: var(--palette-active);\n    }\n    app-collapsible {\n      --transition-duration: 0;\n      --el-header-font-weight: var(--font-weight);\n      --el-header-font-size: var(--font-size);\n      --el-header-background: var(--palette-white);\n      --el-border: 1px solid var(--palette-light);\n    }\n    [slot] {\n      padding: var(--border-radius);\n    }\n    `];\n  }\n\n  render() {\n    return html`\n    <app-collapsible @open=\"${this.handleOpen}\" .open=${this.selected}>\n      <span slot=\"header-before\">${this.name}</span>\n      <i slot=\"header-after\" \n        class=\"icon material-icons\" \n        title=\"View on map\"\n        ?active=${this.selected}>map</i>\n      <slot slot=\"content\"></slot>\n    </app-collapsible>\n    `;\n  }\n\n  handleOpen(e) {\n    if (this.selected !== e.detail.value) {\n      dispatch(this.parentElement, CHANGE_EVENT, {\n        type: this.type, \n        value: e.detail.value\n      });\n    }\n  }\n\n  handleSelect(e) {\n    if (e.detail.type === this.type) {\n      this.selected = e.detail.value;\n      dispatch(document, STYLE_EVENT, {\n        type: (this.selected)?this.type:RESET_TYPE\n      });\n    } else {\n      this.selected = false;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.__selectHandler = this.handleSelect.bind(this);\n    this.parentElement.addEventListener(CHANGE_EVENT, this.__selectHandler);\n  }\n\n  disconnectedCallback() {\n    this.parentElement.removeEventListener(CHANGE_EVENT, this.__selectHandler);\n    super.disconnectedCallback();\n  }\n}\ncustomElements.define('map-control-item', MapControlItem);\n\nexport class LegendDot extends LitElement {\n  static get properties() {\n    return {\n      alt: {\n        type: Boolean\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.alt = false;\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css`\n        .svg-icon {\n          display: inline-flex;\n          align-self: center;\n        }\n        .svg-icon svg {\n          top: calc(var(--line-height) / 5);\n          position: relative;\n        }\n        svg {\n          width: var(--font-size);\n          height: var(--line-height);\n        }\n      `\n    ];\n  }\n\n  render() {\n    return html`\n    <span class=\"svg-icon\">\n    <svg viewBox=\"-4 -12 16 22\">\n      <g>\n        <path\n          stroke=\"${this.color}\"\n          stroke-opacity=\"1\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          fill=\"${this.color}\"\n          fill-opacity=\"0.2\"\n          fill-rule=\"evenodd\"\n          d=\"M0,0 a4,4 0 1,0 8,0 a4,4 0 1,0 -8,0\">\n        </path>\n      </g>\n    </svg>\n  </span>\n    `;\n  }\n\n  get color() {\n    return (!this.alt)?'var(--map-symbol)':'var(--map-symbol-alt)';\n  }\n}\ncustomElements.define('legend-dot', LegendDot);","import { SiteMap } from './map/site-map.js';\nimport { SiteData } from './site-data.js';\nimport { SiteRouter } from 'wgnhs-router';\n\nexport { SiteDetails } from './details/site-details.js';\nexport { MapControls } from './map/map-controls.js';\n\nwindow.siteMap = new SiteMap();\nwindow.sidebar = document.querySelector('#sidebar');\nwindow.pdfPanel = document.querySelector('#sketch');\nwindow.pdfDownload = document.querySelector('#sketch-download');\nwindow.details = document.querySelector('#details');\nwindow.controls = document.querySelector('#controls');\n\nwindow.details['pdfpanel'] = window.pdfPanel;\n\nwindow.siteMap.once('init', function() {\n  window.siteData = new SiteData(window.siteMap.springs, window.siteMap.springPhotos, window.siteMap.springSketches);\n  window.details.alldata = window.siteData.aggrData.data;\n  window.controls.alldata = window.siteData.aggrData.data;\n\n  var deselectFeature = function() {\n    window.details['siteinfo'] = null;\n    window.details['photos'] = null;\n    window.pdfDownload['file'] = null;\n  }\n\n  async function selectFeature(info) {\n    deselectFeature();\n    return Promise.all([\n      window.siteData.lookupPhotos(info['Site_Code']).catch(()=>[]), \n      window.siteData.lookupSketches(info['Site_Code']).catch(()=>[])\n    ]).then(function(resolved) {\n      // console.log('loaded site photos and sketches');\n      window.details['siteinfo'] = info;\n      window.details['photos'] = resolved[0];\n      if (resolved[1]) {\n        window.details['pdfsrc'] = resolved[1][0];\n        window.pdfDownload['file'] = resolved[1][0];\n      }\n    })\n  };\n\n  window.router = new SiteRouter();\n  window.router.addRoute({\n    name: 'entry',\n    url: '/',\n    onEnter: function(trans, state) {\n      // console.log('route-entry');\n      window.siteMap.clearSelection();\n      deselectFeature();\n      document.querySelector('#app').setAttribute('data-view', 'app');\n      window.sidebar.switchTab('default');\n      window.siteMap.setVisibility(true);\n    },\n    onExit: function(trans, state) {\n\n    }\n  });\n  window.router.addRoute({\n    name: 'view',\n    url: '/view/:Site_Code',\n    onEnter: function(trans, state) {\n      // console.log('route-view');\n      let params = trans.params();\n      let attr = window.siteMap.selectPoint(params);\n      if (attr) {\n        window.details['printLayout'] = false;\n        selectFeature(attr).then(() => {\n          document.querySelector('#app').setAttribute('data-view', 'app');\n          window.sidebar.switchTab('details');\n          window.siteMap.setVisibility(true);\n        })\n      } else {\n        window.router.clearRoute();\n      }\n    },\n    onExit: function(trans, state) {\n      window.pdfPanel.hide();\n    }\n  });\n  window.router.addRoute({\n    name: 'print',\n    url: '/print/:Site_Code',\n    onEnter: function(trans, state) {\n      // console.log('route-print');\n      let params = trans.params();\n      let attr = window.siteMap.selectPoint(params);\n      if (attr) {\n        window.details['printLayout'] = true;\n        selectFeature(attr).then(() => {\n          document.querySelector('#app').removeAttribute('data-view');\n          window.sidebar.switchTab('details');\n          window.siteMap.setVisibility(false);\n        })\n      } else {\n        window.router.clearRoute();\n      }\n    },\n    onExit: function(trans, state) {\n\n    }\n  });\n  window.router.onEnterAll({}, () => {\n    document.querySelector('#spinner').setAttribute('data-closed', true);\n  });\n  window.router.start();\n\n  window.siteMap.on('interaction', (params) => {\n    if (params['Site_Code']) {\n      window.router.setRoute('view', params);\n    } else {\n      window.router.clearRoute();\n    }\n  });\n});\n\ndocument.addEventListener('interaction', function(e) {\n  const params = e.detail.params;\n  if (params['Site_Code']) {\n    window.router.setRoute('view', params);\n  } else {\n    window.router.clearRoute();\n  }\n});\n\ndocument.addEventListener('clear-selection', function(e) {\n  window.router.clearRoute();\n});\n\ndocument.addEventListener('toggle-print', function(e) {\n  if (e.detail.on) {\n    window.router.setRoute('print', e.detail.params);\n  } else {\n    window.router.setRoute('view', e.detail.params);\n  }\n});\n\ndocument.addEventListener('toggle-pdf-panel', function(e) {\n  window.siteMap.setVisibility(e.detail.closed);\n  if (e.detail.closed) {\n    window.pdfPanel.setAttribute('data-closed', true);\n  } else {\n    window.pdfPanel.removeAttribute('data-closed');\n  }\n});\n\ndocument.addEventListener('stylepoints', function(e) {\n  if (e.detail.type) {\n    window.siteMap.updatePoints(e.detail.type + 'points');\n  }\n});"],"names":["colorRange","Conductivity_uS","Discharge_cfs","Water_Temp_C","pH","binRanges","RestylingCircleMarker","L","CircleMarker","extend","getEvents","zoomend","this","_restyle","normalpoints","_normal","typepoints","_orifice","condpoints","_conductivity","qpoints","_discharge","e","setRadius","calcRadius","target","getZoom","color","_activeBackup","setStyle","feature","properties","_binPoint","prop","result","binPoint","highlight","options","removeHighlight","a","Math","max","floor","data","ranges","val","i","length","api_key","SiteData","[object Object]","springs","springPhotos","springSketches","_springPhotos","_springSketches","_aggrKeys","aggrData","_gatherAggrData","site","Promise","resolve","reject","query","where","run","err","col","photos","features","map","value","sort","b","Image_Number","sketches","index","layer","aggrKeys","aggr","eachFeature","obj","l","forEach","key","min","push","roundToTwoDecimals","item","toFixed","ignoredKeys","keyLookup","title","desc","SpringID","County","Surveyor","Date","transform","toISOString","substring","Time","Easting_WTM","Northing_WTM","Horz_Precision_m","Max_PDOP","Elevation_m","elevation_source","Land_Owner","Access","Ease_Access","Land_Cover","Air_Temp_F","Cloud_Cover_percent","Wind_Speed_mph","Aspect_degrees","Slope_degrees","Slope_Variability","Condition","Type_of_Disturbance","Spring_Area_sqm","Surface_Types","Width_ft","Width_Location","Depth_cm","Depth_Location","Percent_organic","Percent_fines","Percent_sand","Percent_gravel","Percent_cobble","Percent_boulder","Percent_bedrock","Bedrock_Comp","Spring_Type","Spring_Source","Orifice_Geom","Flow_Accuracy","Discharge_Meas","Flow_Location","Flow_percent","Veg_Bed_Cover_percent","Veg_Bank_Cover_percent","Notes","GlobalID","gps_time_date","sat_signals","customElements","define","LitElement","siteinfo","Object","super","styles","css","html","chart","d3","select","renderRoot","querySelector","radius","attr","masterGroup","append","donutGroup","values","material","percent","filterpie","pie","d","filter","el","arc","outerRadius","innerRadius","padAngle","midAngle","startAngle","endAngle","selectAll","enter","style","outerArc","anchorpoint","centroid","PI","endpoint","selection","prototype","moveToFront","each","parentNode","appendChild","moveToBack","firstChild","insertBefore","dischargeDotPlotOptions","attributeKey","tickValues","chartMin","chartMax","domain","labelFormat","conductivityDotPlotOptions","tempDotPlotOptions","phDotPlotOptions","type","attribute","alldata","annotated","String","d3svg","prev","has","plot","DotPlot","draw","annotate","dotPlotOptions","svg","allData","svgWidth","svgHeight","margin","top","right","bottom","left","chartWidth","chartHeight","tickPadding","x_scale","setRange","scaleLinear","range","y_scale","scaleBand","rangeRound","chartgroup","call","axisBottom","tickSizeInner","tickSizeOuter","tickFormat","format","g","remove","axisLeft","circles","jitterWidth","Site_Code","random","on","console","log","dispatch","document","params","unhighlight","text","siteCode","circle","classed","startpoint","file","TOGGLE_EVENT","src","panel","closed","Boolean","toggle","request","show","hide","detail","url","requestUpdate","connectedCallback","__altHandler","handleAlt","bind","addEventListener","removeEventListener","disconnectedCallback","t","getEvtListenerOptions","defineProperty","get","window","passive","clamp","s","RangeError","booleanSetter","setAttribute","removeAttribute","booleanGetter","hasAttribute","intSetter","intGetter","getAttribute","parseInt","normalizeEvent","targetTouches","changedTouches","x","clientX","y","clientY","id","identifier","event","createElement","innerHTML","ShadyCSS","prepareTemplate","o","abs","round","tan","HTMLElement","attachShadow","mode","shadowRoot","content","cloneNode","n","r","h","c","u","m","p","v","w","f","k","_","S","z","M","C","W","P","G","F","I","$","A","D","T","N","styleElement","j","selected","O","q","disableDrag","navigation","pagination","B","update","V","previous","next","keyCode","H","R","X","Y","U","J","K","hasOwnProperty","clearTimeout","setTimeout","Q","Z","tt","it","st","layoutIndex","et","ot","at","nt","rt","loop","ht","observedAttributes","Number","isFinite","slidesPerView","dispatchEvent","CustomEvent","bubbles","styleSubtree","reducedMotion","autoFocus","requestAnimationFrame","getBoundingClientRect","width","ct","lt","test","getComputedStyle","getPropertyValue","trim","warn","element","setProperty","dt","find","ut","position","mt","gt","focus","assignedNodes","removeChild","createDocumentFragment","textContent","classList","add","pt","disabled","flatten","nodeType","Node","TEXT_NODE","ELEMENT_NODE","bt","vt","wt","preventDefault","ft","kt","now","time","shift","xt","slice","yt","MacroCarouselButton","getPrototypeOf","constructor","template","_t","St","open","reflect","source","handleClick","contains","toggleOpen","Array","clickedImg","printLayout","FileURL","Description","handleImageClick","$modal","SiteDetails","pdfpanel","pdfsrc","genId","memo","renderTable","entries","includes","router","link","fireTogglePrint","fireClearSelection","handlePrint","print","CHANGE_EVENT","STYLE_EVENT","RESET_TYPE","MapControls","name","handleOpen","parentElement","__selectHandler","handleSelect","alt","siteMap","Evented","_highlight","zoomControl","setView","esriBasemap","esri","Vector","vectorBasemapLayer","apiKey","version","Control","Zoom","addTo","basemapLayers","Streets Basemap","Topographic Basemap","Imagery Basemap","control","layers","collapsed","featureLayer","pointToLayer","geoJsonPoint","latlon","weight","propagatedFrom","fire","once","point","getPoint","setZoomAround","getLatLng","bringToFront","clearSelection","getHighlightPoint","setHighlightPoint","bringToBack","isVisible","invalidateSize","sidebar","pdfPanel","pdfDownload","details","controls","siteData","deselectFeature","async","selectFeature","info","all","lookupPhotos","catch","lookupSketches","then","resolved","SiteRouter","addRoute","onEnter","trans","state","switchTab","setVisibility","onExit","selectPoint","clearRoute","onEnterAll","start","setRoute","updatePoints"],"mappings":"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"}